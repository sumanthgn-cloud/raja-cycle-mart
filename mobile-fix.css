/* MOBILE RESPONSIVE FIX - CRITICAL OVERRIDES v3 */

@media (max-width: 768px) {

    /* 1. RESET ROOT & BODY - Kill all spacing/overflow */
    html,
    body {
        width: 100% !important;
        max-width: 100vw !important;
        overflow-x: hidden !important;
        margin: 0 !important;
        padding: 0 !important;
        position: relative !important;
    }

    * {
        box-sizing: border-box !important;
    }

    /* 2. KILL DECORATIVE GLOWS/GRADIENTS */
    body::before,
    body::after,
    .main-layout::before,
    .main-layout::after,
    .content-area::before,
    .content-area::after,
    div::before,
    div::after,
    #preact-border-shadow-host {
        /* Hide injected overlay */
        display: none !important;
        width: 0 !important;
        height: 0 !important;
        opacity: 0 !important;
        background: none !important;
        box-shadow: none !important;
    }

    /* Remove Progress Bar Glow */
    .progress-bar {
        box-shadow: none !important;
        background: #00C4D9 !important;
        /* Flat color */
    }

    /* Simplify Box Backgrounds */
    .summary-box,
    .cta-box,
    .image-placeholder {
        background: #f8f9fa !important;
        box-shadow: none !important;
    }

    /* 3. FLATTEN GRID & ALLOW SHRINKING */
    /* Force grid items to be simple blocks with no min-width locks */
    .container,
    .main-layout,
    .content-area,
    .hero,
    article,
    .header-container,
    .main-layout>* {
        width: 100% !important;
        max-width: 100vw !important;
        min-width: 0 !important;
        padding-left: 1rem !important;
        padding-right: 1rem !important;
        margin: 0 !important;
        display: block !important;
    }

    /* 4. TYPOGRAPHY SCALING */
    h1 {
        font-size: 1.6rem !important;
        line-height: 1.25 !important;
        width: 100% !important;
    }

    p,
    li,
    span,
    h2,
    h3 {
        max-width: 100% !important;
        word-break: break-word !important;
        /* Force break */
        overflow-wrap: break-word !important;
    }

    /* 5. TABLES & CODE - The usual overflow suspects */
    table {
        display: block !important;
        width: 100% !important;
        max-width: 100% !important;
        overflow-x: auto !important;
        white-space: nowrap !important;
        /* Keep rows together but scroll */
    }

    pre {
        display: block !important;
        width: 100% !important;
        max-width: 100% !important;
        overflow-x: auto !important;
        padding: 1rem !important;
    }

    /* 6. HIDE SIDEBARS */
    .toc-sidebar,
    .tool-stack,
    .divider {
        display: none !important;
    }

    /* 7. IMAGES */
    img,
    video,
    iframe {
        max-width: 100% !important;
        height: auto !important;
        width: auto !important;
    }

    /* 8. MOBILE LOGO FIX */
    .logo-crop-frame {
        width: 240px !important;
        height: 60px !important;
        margin-left: 0 !important;
        overflow: hidden !important;
        display: block !important;
    }

    .logo {
        height: 120px !important;
        position: absolute !important;
        top: 50% !important;
        left: 0 !important;
        transform: translateY(-50%) !important;
    }
}